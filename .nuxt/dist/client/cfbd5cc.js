(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{403:function(e,t,r){var content=r(432);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(11).default)("07c22ef2",content,!0,{sourceMap:!1})},431:function(e,t,r){"use strict";r(403)},432:function(e,t,r){(t=r(10)(!1)).push([e.i,"@media (min-width:1024px){.smartphone-only[data-v-1e3d83bc]{display:none!important}}@media (max-width:1023px){.desktop-only[data-v-1e3d83bc]{display:none!important}}p[data-v-1e3d83bc]{margin:0}.name[data-v-1e3d83bc]{font-weight:var(--font-weight--semibold)}",""]),e.exports=t},433:function(e,t,r){var content=r(498);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(11).default)("0cd0a9ff",content,!0,{sourceMap:!1})},434:function(e,t,r){var content=r(500);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(11).default)("6dfca23d",content,!0,{sourceMap:!1})},443:function(e,t,r){"use strict";r(33),r(69);var n=r(0),o=r(9),d={props:{address:{type:Object,required:!0}},setup:function(e){var address=Object(n.l)(e,"address");return{street:Object(n.a)((function(){return[address.streetName,address.streetNumber&&" ".concat(address.streetNumber),address.apartment&&", Apartment ".concat(address.apartment)].filter(Boolean).join("")})),country:Object(n.a)((function(){var e,t=address.country;return(null===(e=Object(o.getSettings)().countries.find((function(e){return e.name===t})))||void 0===e?void 0:e.label)||t}))}}},c=(r(431),r(3)),component=Object(c.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("p",{staticClass:"name"},[e._v(e._s(e.address.firstName)+" "+e._s(e.address.lastName))]),e._v(" "),r("p",[e._v(e._s(e.street))]),e._v(" "),r("p",[e._v("\n    "+e._s(e.address.city)+"\n    "+e._s(e.address.state)+"\n    "+e._s(e.address.postalCode)+"\n  ")]),e._v(" "),r("p",[e._v(e._s(e.country))]),e._v(" "),e.address.phone?r("p",[e._v("T: "+e._s(e.address.phone))]):e._e()])}),[],!1,null,"1e3d83bc",null);t.a=component.exports},497:function(e,t,r){"use strict";r(433)},498:function(e,t,r){(t=r(10)(!1)).push([e.i,"@media (min-width:1024px){.smartphone-only[data-v-26b7c01d]{display:none!important}}@media (max-width:1023px){.desktop-only[data-v-26b7c01d]{display:none!important}}.form__element[data-v-26b7c01d]{display:block;margin:var(--spacer-xl) 0}.form__select[data-v-26b7c01d]{display:flex;align-items:center;--select-option-font-size:var(--font-size--lg)}.form__select[data-v-26b7c01d]  .sf-select__dropdown{font-size:var(--font-size--lg);margin:0;font-family:var(--font-family--secondary);font-weight:var(--font-weight--normal)}.form__button[data-v-26b7c01d]{display:block}@media (min-width:1024px){.form__horizontal[data-v-26b7c01d]{display:flex;flex-direction:row;justify-content:space-between}}@media (min-width:1024px){.form__horizontal .form__element[data-v-26b7c01d]{flex:1;margin-right:var(--spacer-lg)}}.form__horizontal .form__element[data-v-26b7c01d]:last-child{margin-right:0}",""]),e.exports=t},499:function(e,t,r){"use strict";r(434)},500:function(e,t,r){(t=r(10)(!1)).push([e.i,"@media (min-width:1024px){.smartphone-only[data-v-442cc9c1]{display:none!important}}@media (max-width:1023px){.desktop-only[data-v-442cc9c1]{display:none!important}}.message[data-v-442cc9c1]{font-family:var(--font-family--primary);line-height:1.6;font-size:var(--font-size--base)}.shipping-list[data-v-442cc9c1]{margin-bottom:var(--spacer-2xl)}.shipping[data-v-442cc9c1]{display:flex;padding:var(--spacer-xl) 0;border-top:1px solid var(--c-light)}.shipping[data-v-442cc9c1]:last-child{border-bottom:1px solid var(--c-light)}.shipping__content[data-v-442cc9c1]{flex:1;color:var(--c-text);font-size:var(--font-size--base);font-weight:300;line-height:1.6}.shipping__actions[data-v-442cc9c1]{flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end}@media screen and (min-width:1024px){.shipping__actions[data-v-442cc9c1]{flex-direction:row;align-items:center;justify-content:flex-end}}.shipping__button-delete[data-v-442cc9c1]{background-color:var(--c-light);color:var(--c-text-muted)}@media screen and (min-width:1024px){.shipping__button-delete[data-v-442cc9c1]{margin-left:var(--spacer-xl)}}.shipping__address[data-v-442cc9c1],.shipping__address p[data-v-442cc9c1]{margin:0}.shipping__client-name[data-v-442cc9c1]{font-size:var(--font-size--base);font-weight:500}.action-button[data-v-442cc9c1]{width:100%}@media screen and (min-width:1024px){.action-button[data-v-442cc9c1]{width:auto}}@media screen and (max-width:1024px){.tab-orphan[data-v-442cc9c1]  .sf-tabs__title{display:none}.tab-orphan[data-v-442cc9c1]  .sf-tabs__content{border:0;padding:0}}",""]),e.exports=t},606:function(e,t,r){"use strict";r.r(t);r(29);var n=r(8),o=r(765),d=r(21),c=r(19),l=r(443),f=(r(36),r(23),r(18),r(14),r(22),r(15)),m=r(231),v=r(382),_=r(374),h=r(119),y=r(78),x=r(0),S=r(9);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(f.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}Object(y.c)("required",C(C({},h.f),{},{message:"This field is required"})),Object(y.c)("min",C(C({},h.d),{},{message:"The field should have at least {length} characters"})),Object(y.c)("oneOf",C(C({},h.e),{},{message:"Invalid country"}));var O={name:"ShippingAddressForm",components:{SfInput:m.a,SfButton:d.a,SfSelect:v.a,SfCheckbox:_.a,ValidationProvider:y.b,ValidationObserver:y.a},props:{address:{type:Object,default:function(){return{id:void 0,firstName:"",lastName:"",streetName:"",apartment:"",city:"",state:"",postalCode:"",country:"",phone:"",isDefault:!1}}},isNew:{type:Boolean,required:!0}},setup:function(e,t){var r=t.emit,form=Object(x.i)({id:e.address.id,firstName:e.address.firstName,lastName:e.address.lastName,streetName:e.address.streetName,apartment:e.address.apartment,city:e.address.city,state:e.address.state,postalCode:e.address.postalCode,country:e.address.country,phone:e.address.phone,isDefault:e.address.isDefault});return{form:form,submitForm:function(){r("submit",{form:form,onComplete:function(){},onError:function(){}})},countries:Object(S.getSettings)().countries}}},k=(r(497),r(3)),j=Object(k.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[r("form",{staticClass:"form",attrs:{id:"shipping-details-form"},on:{submit:function(t){return t.preventDefault(),n(e.submitForm)}}},[r("SfCheckbox",{staticClass:"form__checkbox-isDefault",attrs:{"data-cy":"shipping-details-checkbox_isDefault",name:"isDefault",label:"Set as default"},model:{value:e.form.isDefault,callback:function(t){e.$set(e.form,"isDefault",t)},expression:"form.isDefault"}}),e._v(" "),r("div",{staticClass:"form__horizontal"},[r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:2"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("SfInput",{attrs:{"data-cy":"shipping-details-input_firstName",name:"firstName",label:"First Name",required:"",valid:!n[0],errorMessage:n[0]},model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})]}}],null,!0)}),e._v(" "),r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:2"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("SfInput",{attrs:{"data-cy":"shipping-details-input_lastName",name:"lastName",label:"Last Name",required:"",valid:!n[0],errorMessage:n[0]},model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})]}}],null,!0)})],1),e._v(" "),r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:5"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("SfInput",{attrs:{"data-cy":"shipping-details-input_streetName",name:"streetName",label:"Street Name",required:"",valid:!n[0],errorMessage:n[0]},model:{value:e.form.streetName,callback:function(t){e.$set(e.form,"streetName",t)},expression:"form.streetName"}})]}}],null,!0)}),e._v(" "),r("SfInput",{staticClass:"form__element",attrs:{"data-cy":"shipping-details-input_apartment",name:"apartment",label:"House/Apartment number",required:""},model:{value:e.form.apartment,callback:function(t){e.$set(e.form,"apartment",t)},expression:"form.apartment"}}),e._v(" "),r("div",{staticClass:"form__horizontal"},[r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:2"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("SfInput",{attrs:{"data-cy":"shipping-details-input_city",name:"city",label:"City",required:"",valid:!n[0],errorMessage:n[0]},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}})]}}],null,!0)}),e._v(" "),r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:2"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("SfInput",{attrs:{"data-cy":"shipping-details-input_state",name:"state",label:"State/Province",required:"",valid:!n[0],errorMessage:n[0]},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}})]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"form__horizontal"},[r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:4"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("SfInput",{attrs:{"data-cy":"shipping-details-input_zipCode",name:"zipCode",label:"Zip-code",required:"",valid:!n[0],errorMessage:n[0]},model:{value:e.form.postalCode,callback:function(t){e.$set(e.form,"postalCode",t)},expression:"form.postalCode"}})]}}],null,!0)}),e._v(" "),r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|oneOf:"+e.countries.map((function(e){return e.name})).join(",")},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("SfSelect",{staticClass:"form__select sf-select--underlined",attrs:{"data-cy":"shipping-details-select_country",value:e.form.country,name:"country",label:"Country",required:"",valid:!n[0],errorMessage:n[0]},on:{selected:function(t){e.form.country=t}}},e._l(e.countries,(function(t){var n=t.name,label=t.label;return r("SfSelectOption",{key:n,attrs:{value:n}},[e._v("\n            "+e._s(label)+"\n          ")])})),1)]}}],null,!0)})],1),e._v(" "),r("ValidationProvider",{staticClass:"form__element",attrs:{rules:"required|min:8"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[r("SfInput",{attrs:{"data-cy":"shipping-details-input_phoneNumber",name:"phone",label:"Phone number",required:"",valid:!n[0],errorMessage:n[0]},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})]}}],null,!0)}),e._v(" "),r("SfButton",{staticClass:"form__button",attrs:{"data-cy":"shipping-details-btn_update"}},[e._v("\n      "+e._s(e.isNew?"Add the address":"Update the address")+"\n    ")])],1)]}}])})}),[],!1,null,"26b7c01d",null).exports,N=r(17),A=r(12),z={name:"ShippingDetails",components:{SfTabs:o.a,SfButton:d.a,SfIcon:c.a,UserShippingAddress:l.a,ShippingAddressForm:j},setup:function(){var e=Object(N.o)(),t=e.shipping,r=e.load,o=e.addAddress,d=e.deleteAddress,c=e.updateAddress,l=Object(x.a)((function(){return N.s.getAddresses(t.value)})),f=Object(x.j)(!1),m=Object(x.j)(void 0),v=Object(x.a)((function(){return!m.value})),_=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var form,r,n,d,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return form=t.form,r=t.onComplete,n=t.onError,e.prev=1,d=v.value?o:c,e.next=5,d(form);case 5:return data=e.sent,f.value=!1,m.value=void 0,e.next=10,r(data);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.onSSR)(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)})))),{changeAddress:function(){var address=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;m.value=address,f.value=!0},updateAddress:c,removeAddress:function(address){return d(address)},saveAddress:_,userShippingGetters:N.s,addresses:l,edittingAddress:f,activeAddress:m,isNewAddress:v}}},P=(r(499),Object(k.a)(z,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[e.edittingAddress?r("SfTabs",{key:"edit-address",staticClass:"tab-orphan",attrs:{"open-tab":1}},[r("SfTab",{attrs:{"data-cy":"shipping-details-tab_change",title:e.isNewAddress?"Add the address":"Update the address"}},[r("p",{staticClass:"message"},[e._v("\n        Keep your addresses and contact details updated.\n      ")]),e._v(" "),r("ShippingAddressForm",{attrs:{address:e.activeAddress,isNew:e.isNewAddress},on:{submit:e.saveAddress}})],1)],1):r("SfTabs",{key:"address-list",staticClass:"tab-orphan",attrs:{"open-tab":1}},[r("SfTab",{attrs:{"data-cy":"shipping-details-tab_details",title:"Shipping details"}},[r("p",{staticClass:"message"},[e._v('\n        Manage all the shipping addresses you want (work place, home address\n        ...) This way you won"t have to enter the shipping address manually\n        with each order.\n      ')]),e._v(" "),r("transition-group",{staticClass:"shipping-list",attrs:{tag:"div",name:"fade"}},e._l(e.addresses,(function(address){return r("div",{key:e.userShippingGetters.getId(address),staticClass:"shipping"},[r("div",{staticClass:"shipping__content"},[r("div",{staticClass:"shipping__address"},[r("UserShippingAddress",{attrs:{address:address}})],1)]),e._v(" "),r("div",{staticClass:"shipping__actions"},[r("SfIcon",{staticClass:"smartphone-only",attrs:{"data-cy":"shipping-details-icon_delete",icon:"cross",color:"gray",size:"14px",role:"button"},on:{click:function(t){return e.removeAddress(address)}}}),e._v(" "),r("SfButton",{attrs:{"data-cy":"shipping-details-btn_change"},on:{click:function(t){return e.changeAddress(address)}}},[e._v("\n              Change\n            ")]),e._v(" "),r("SfButton",{staticClass:"shipping__button-delete desktop-only",attrs:{"data-cy":"shipping-details-btn_delete"},on:{click:function(t){return e.removeAddress(address)}}},[e._v("\n              Delete\n            ")])],1)])})),0),e._v(" "),r("SfButton",{staticClass:"action-button",attrs:{"data-cy":"shipping-details-btn_add"},on:{click:function(t){return e.changeAddress()}}},[e._v("\n        Add new address\n      ")])],1)],1)],1)}),[],!1,null,"442cc9c1",null));t.default=P.exports}}]);